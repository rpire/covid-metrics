(this["webpackJsonpcovid-metrics"]=this["webpackJsonpcovid-metrics"]||[]).push([[0],{38:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var c,s=t(2),a=t.n(s),i=t(12),r=t.n(i),l=t(8),j=t(9),o=(t(38),t(3)),d=t(28),x=t(21),b=t(1),m=function(e){var n=e.search,t=e.handleChange;return Object(b.jsxs)("nav",{className:"flex-box",children:[Object(b.jsx)("span",{className:"nav-title",children:"UK"}),Object(b.jsx)("span",{className:"nav-center",children:"most cases"}),Object(b.jsx)("form",{className:"input-container flex-box",onSubmit:function(e){return e.preventDefault()},children:Object(b.jsxs)("label",{htmlFor:"search",className:"flex-box",children:[Object(b.jsx)("input",{type:"text",id:"search",name:"search",value:n,onChange:t,placeholder:"Search region"}),Object(b.jsx)(x.a,{})]})})]})},h=t(22),O=function(e){var n=e.region,t=n.name,c=n.today_confirmed,s=n.id,a=e.id;return Object(b.jsxs)("div",{className:[0,3,4,7,8].includes(a)?"dark-region":"light-region",children:[Object(b.jsxs)("div",{className:"region-img-frame flex-box",children:[Object(b.jsx)("img",{src:"/covid-metrics".concat("/media/".concat(s,".png")),alt:"Region map",className:"region-img"}),Object(b.jsx)(h.a,{className:"details-link"})]}),Object(b.jsxs)("div",{className:"region-content flex-box",children:[Object(b.jsx)("h3",{children:t}),Object(b.jsx)("p",{children:"Confirmed cases"}),Object(b.jsx)("span",{children:c})]})]})},u=function(){var e=Object(j.c)((function(e){return e.data})),n=Object(s.useState)(""),t=Object(d.a)(n,2),c=t[0],a=t[1],i=e.regions.sort((function(e,n){return n.today_open_cases-e.today_open_cases})).filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{search:c,handleChange:function(e){return a(e.target.value)}}),Object(b.jsxs)("section",{className:"main-container flex-box",children:[Object(b.jsx)("img",{src:"/covid-metrics".concat("/media/".concat(e.id,".png")),alt:"Map silhouette for ".concat(e.name),className:"main-img"}),Object(b.jsxs)("div",{className:"main-content flex-box",children:[Object(b.jsx)("h1",{children:e.name}),Object(b.jsx)("p",{children:"Confirmed cases"}),Object(b.jsx)("span",{children:e.today_confirmed})]})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("h2",{children:"STATS BY REGION"}),Object(b.jsx)("ul",{className:"region-list",children:i.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/".concat(e.id),children:Object(b.jsx)(O,{region:e,id:i.indexOf(e)})})},e.id)}))})]})]})},f=t(7),p=t(24),g=function(e){var n=e.name;return Object(b.jsxs)("nav",{className:"flex-box",children:[Object(b.jsx)(l.b,{to:"/",children:Object(b.jsx)(p.a,{className:"nav-return"})}),Object(b.jsx)("span",{className:"nav-end",children:"".concat(n," metrics")})]})},N=function(e){var n=e.region,t=n.id,c=n.name,s=n.today_confirmed,a=n.today_new_confirmed,i=n.today_deaths,r=n.today_new_deaths,l=n.today_open_cases,j=n.today_new_open_cases,o=n.today_recovered,d=n.today_new_recovered;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{name:c}),Object(b.jsxs)("section",{className:"main-container flex-box",children:[Object(b.jsx)("img",{src:"./media/".concat(t,".png"),alt:"Map silhouette for ".concat(c),className:"main-img"}),Object(b.jsxs)("div",{className:"main-content flex-box",children:[Object(b.jsx)("h1",{children:c}),Object(b.jsx)("p",{children:"Confirmed cases"}),Object(b.jsx)("span",{children:s})]})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("h2",{children:"DETAILS"}),Object(b.jsxs)("ul",{className:"details-list",children:[Object(b.jsxs)("li",{className:"details-list-item flex-box even",children:[Object(b.jsx)("span",{children:"CONFIRMED CASES"}),Object(b.jsxs)("span",{className:"counter flex-box",children:[s,Object(b.jsx)(f.a,{})]})]}),Object(b.jsxs)("li",{className:"details-list-item flex-box odd",children:[Object(b.jsx)("span",{children:"NEW CONFIRMED CASES"}),Object(b.jsxs)("span",{className:"counter flex-box",children:[a,Object(b.jsx)(f.a,{})]})]}),Object(b.jsxs)("li",{className:"details-list-item flex-box even",children:[Object(b.jsx)("span",{children:"DEATHS"}),Object(b.jsxs)("span",{className:"counter flex-box",children:[i,Object(b.jsx)(f.a,{})]})]}),Object(b.jsxs)("li",{className:"details-list-item flex-box odd",children:[Object(b.jsx)("span",{children:"NEW DEATHS"}),Object(b.jsxs)("span",{className:"counter flex-box",children:[r,Object(b.jsx)(f.a,{})]})]}),Object(b.jsxs)("li",{className:"details-list-item flex-box even",children:[Object(b.jsx)("span",{children:"OPEN CASES"}),Object(b.jsxs)("span",{className:"counter flex-box",children:[l,Object(b.jsx)(f.a,{})]})]}),Object(b.jsxs)("li",{className:"details-list-item flex-box odd",children:[Object(b.jsx)("span",{children:"NEW OPEN CASES"}),Object(b.jsxs)("span",{className:"counter flex-box",children:[j,Object(b.jsx)(f.a,{})]})]}),Object(b.jsxs)("li",{className:"details-list-item flex-box even",children:[Object(b.jsx)("span",{children:"RECOVERED"}),Object(b.jsxs)("span",{className:"counter flex-box",children:[o,Object(b.jsx)(f.a,{})]})]}),Object(b.jsxs)("li",{className:"details-list-item flex-box odd",children:[Object(b.jsx)("span",{children:"NEW RECOVERED"}),Object(b.jsxs)("span",{className:"counter flex-box",children:[d,Object(b.jsx)(f.a,{})]})]})]})]})]})},v=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"This is the error page"}),Object(b.jsx)("p",{children:"Welcome"})]})},_=t(18),E=t.n(_),S=t(25),y="App/data/LOAD_DATA",C=function(e){return e.toString().padStart(2,"0")},D=new Date,w=[(c=D).getFullYear().toString(),C(c.getMonth()+1).toString(),C(c.getDate()-1).toString()].join("-"),A="https://api.covid19tracking.narrativa.com/api/".concat(w,"/country/united_kingdom"),F={regions:[{name:"Gibraltar",id:"gibraltar"},{name:"Scotland",id:"scotland"},{name:"Channel Islands",id:"channel_islands"},{name:"North Ireland",id:"north_ireland"},{name:"Cayman Islands",id:"cayman_islands"},{name:"Montserrat",id:"montserrat"},{name:"Isle of Man",id:"isle_of_man"},{name:"Bermuda",id:"bermuda"},{name:"England",id:"england"},{name:"Wales",id:"wales"}],name:"United Kingdom",id:"united_kingdom"},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,n=arguments.length>1?arguments[1]:void 0;return n.type===y?n.payload:e},T=function(){var e=Object(j.b)();Object(s.useEffect)((function(){e(function(){var e=Object(S.a)(E.a.mark((function e(n){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A).then((function(e){return e.json()})).catch((function(){return F}));case 2:t=e.sent,n((c=t.dates[w].countries["United Kingdom"],{type:y,payload:c}));case 4:case"end":return e.stop()}var c}),e)})));return function(n){return e.apply(this,arguments)}}())}),[e]);var n=Object(j.c)((function(e){return e.data.regions}));return Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",children:Object(b.jsx)(u,{})}),n.map((function(e){return Object(b.jsx)(o.a,{path:"/".concat(e.id),children:Object(b.jsx)(N,{region:e})},"".concat(e.id,"#path"))})),Object(b.jsx)(o.a,{path:"*",children:Object(b.jsx)(v,{})})]})},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,45)).then((function(n){var t=n.getCLS,c=n.getFID,s=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),c(e),s(e),a(e),i(e)}))},M=t(13),R=t(26),L=t(27),W=Object(M.b)({data:I}),B=Object(M.c)(W,Object(M.a)(R.logger,L.a));r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(l.a,{basename:"/covid-metrics",children:Object(b.jsx)(j.a,{store:B,children:Object(b.jsx)(T,{})})})}),document.getElementById("root")),k()}},[[44,1,2]]]);
//# sourceMappingURL=main.56a0dcf1.chunk.js.map